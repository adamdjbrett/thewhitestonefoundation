---
layout: base.njk
title: "Videos"
description: "Watch our collection of critical conversations and educational videos."
categories:
tags:
image: /images/wp-content/uploads/2021/08/Whitestone-logo.png
permalink: /videos/
---
{%- set preconnect -%}
  <link rel="preconnect" href="https://www.youtube.com">
  <link rel="preconnect" href="https://www.google.com">
  <link rel="preconnect" href="https://i.ytimg.com">
{%- endset -%}

<section class="container py-5">
  <div class="row g-5 mb-5 align-items-center">
    <div class="col-md-4">
      <h1 class="display-5 fw-bold" style="font-family: 'Tenor Sans', serif;">{{ title }}</h1>
    </div>
    <div class="col-md-8 lead border-start border-4 ps-4">
      <p class="mb-0 text-secondary">{{ description }}.</p>
    </div>
  </div>

  <hr class="mb-5">

  <div class="row g-4">
    {% for v in videos.list %}
    <div class="col-12 col-md-6 col-lg-4">
      <div class="video-card h-100">
        <div class="video-thumb-wrapper shadow-sm rounded mb-3" 
             data-video-id="{{ v.url }}"
             onclick="openVideoModal(this)">
          
          {% set idOnly = v.url.split('?')[0] %}
          
          <img src="https://i.ytimg.com/vi/{{ idOnly }}/hqdefault.jpg" 
               alt="{{ v.title }}" 
               class="img-fluid w-100 h-100">
          
          <div class="play-btn-center"></div>
        </div>
        <h3 class="h6 fw-bold text-secondary mt-2">{{ v.title }}</h3>
      </div>
    </div>
    {% endfor %}
  </div>
</section>

<div id="customVideoModal" class="v-modal">
  <div class="v-modal-overlay" onclick="closeVideoModal()"></div>
  <div class="v-modal-content">
    <button class="v-modal-close" onclick="closeVideoModal()">&times;</button>
    <div class="v-modal-ratio">
      <div id="v-modal-body"></div>
    </div>
  </div>
</div>

<style>
  .video-thumb-wrapper {
    position: relative;
    aspect-ratio: 16/9;
    overflow: hidden;
    background: #000;
    cursor: pointer;
    border-radius: 8px;
  }
  .video-thumb-wrapper img {
    object-fit: cover;
    opacity: 0.8;
    transition: 0.4s;
  }
  .video-thumb-wrapper:hover img {
    opacity: 1;
    transform: scale(1.05);
  }
  .play-btn-center {
    position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);
    width: 60px; height: 60px; background: rgba(255,0,0,0.9); border-radius: 50%;
    display: flex; align-items: center; justify-content: center; transition: 0.3s;
    z-index: 2;
  }
  .play-btn-center::after {
    content: ""; border-style: solid; border-width: 10px 0 10px 15px;
    border-color: transparent transparent transparent #fff; margin-left: 3px;
  }
  .video-thumb-wrapper:hover .play-btn-center {
    background: #ff0000;
    transform: translate(-50%, -50%) scale(1.1);
  }

  /* Modal Styling */
  .v-modal {
    position: fixed; top: 0; left: 0; width: 100%; height: 100%;
    display: none; align-items: center; justify-content: center;
    z-index: 9999;
  }
  .v-modal.is-active { display: flex; }
  .v-modal-overlay {
    position: absolute; top: 0; left: 0; width: 100%; height: 100%;
    background: rgba(0,0,0,0.9); backdrop-filter: blur(5px);
  }
  .v-modal-content {
    position: relative; width: 90%; max-width: 1000px;
    z-index: 10000; animation: vFadeIn 0.3s ease;
  }
  .v-modal-ratio { position: relative; width: 100%; aspect-ratio: 16/9; background: #000; }
  .v-modal-ratio iframe { position: absolute; top: 0; left: 0; width: 100%; height: 100%; border: 0; }
  .v-modal-close {
    position: absolute; top: -45px; right: 0;
    background: none; border: 0; color: #fff; font-size: 35px; cursor: pointer;
  }
  @keyframes vFadeIn {
    from { opacity: 0; transform: translateY(20px); }
    to { opacity: 1; transform: translateY(0); }
  }
</style>

<script>
  const modal = document.getElementById('customVideoModal');
  const modalBody = document.getElementById('v-modal-body');

  function openVideoModal(el) {
    const videoId = el.getAttribute('data-video-id');
    const connector = videoId.includes('?') ? '&' : '?';
    
    modalBody.innerHTML = `
      <iframe src="https://www.youtube.com/embed/${videoId}${connector}autoplay=1" 
              allow="autoplay; encrypted-media" 
              allowfullscreen></iframe>`;
    
    modal.classList.add('is-active');
    document.body.style.overflow = 'hidden';
  }

  function closeVideoModal() {
    modal.classList.remove('is-active');
    modalBody.innerHTML = '';
    document.body.style.overflow = 'auto';
  }

  document.addEventListener('keydown', (e) => {
    if (e.key === "Escape") closeVideoModal();
  });
</script>
---
layout: base.njk
title: "News"
description: "Stay updated with the latest news and articles from The Whitestone Foundation."
pagination:
  data: collections.posts
  size: 2
  alias: news
  reverse: true
eleventyComputed:
  permalink: "news/{% if pagination.pageNumber > 0 %}{{ pagination.pageNumber + 1 }}/{% endif %}index.html"
---
<section class="container">
    <div class="row g-5 mb-5 pt-4 align-items-center">
        <h1 class="col-md-4 display-5 fw-bold" style="font-family: 'Tenor Sans', serif;">{{ title }}</h1>
        <div class="col-md-8 lead">
            <p class="mb-0">
                {{ description }}
                <span class="text-muted small d-block d-md-inline ms-md-3">
                    Page {{ pagination.pageNumber + 1 }} of {{ pagination.pages.length }}
                </span>
            </p>
        </div>
    </div><hr/>

    <div class="row g-5 mt-2">
        {% for p in news %}
        <div class="col-md-6 col-lg-4">
            <article class="article-card h-100">
                <a href="{{ p.url }}" class="text-decoration-none color-inherit">
                    <div class="img-container mb-3">
                        <img src="{{ p.data.image or metadata.image }}" 
                        alt="{{ p.data.title }}" class="img-fluid">
                    </div>
                    <div class="article-meta">
                        <span class="text-uppercase small fw-bold">
                            {{ p.data.categories[0] if p.data.categories else "General" }} 
                            • {{ p.date | readableDate }}
                        </span>
                    </div>
                    <h3 class="mt-2 h4">{{ p.data.title }}</h3>
                    <p class="text-secondary">
                        {{ p.data.description or p.content | stripHtml | truncate(150) }}
                    </p>
                </a>
            </article>
        </div>
        {% else %}
        <div class="col-12 py-5 text-center">
            <p>No posts found.</p>
        </div>
        {% endfor %}
    </div>

    {% if pagination.pages.length > 1 %}
    <nav class="row mt-5 border-top pt-4">
        <div class="col-12 d-flex justify-content-between align-items-center">
            {% if pagination.href.previous %}
                <a href="{{ pagination.href.previous }}" class="btn btn-outline-dark btn-sm rounded-0 text-uppercase">← Newer</a>
            {% else %}
                <span class="text-muted small text-uppercase">First Page</span>
            {% endif %}

            <div class="pagination-numbers d-none d-md-flex gap-3">
                {% for pageEntry in pagination.pages %}
                <a href="{{ pagination.hrefs[loop.index0] }}" 
                   class="text-decoration-none small {{ 'fw-bold text-dark' if pagination.pageNumber == loop.index0 else 'text-muted' }}">
                    {{ loop.index }}
                </a>
                {% endfor %}
            </div>

            {% if pagination.href.next %}
                <a href="{{ pagination.href.next }}" class="btn btn-outline-dark btn-sm rounded-0 text-uppercase">Older →</a>
            {% else %}
                <span class="text-muted small text-uppercase">Last Page</span>
            {% endif %}
        </div>
    </nav>
    {% endif %}
</section>